<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolarOS JS Edition</title>
    <style>
        :root {
            --solar-main: #FDB813;
            --solar-gradient: linear-gradient(135deg, #fdb813 0%, #ff8c00 100%);
            --win-bg: rgba(255, 255, 255, 0.9);
            --taskbar-bg: rgba(0, 0, 0, 0.7);
        }

        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        
        #wallpaper {
            position: fixed; width: 100%; height: 100%;
            background: var(--solar-gradient);
            z-index: -1;
        }

        /* Taskbar */
        #taskbar {
            position: fixed; bottom: 0; width: 100%; height: 45px;
            background: var(--taskbar-bg); backdrop-filter: blur(10px);
            display: flex; align-items: center; padding: 0 10px; z-index: 9999;
            color: white; border-top: 1px solid rgba(255,255,255,0.1);
        }

        .start-btn { background: var(--solar-main); border: none; padding: 5px 15px; border-radius: 4px; font-weight: bold; cursor: pointer; margin-right: 20px; }

        /* Icons */
        #desktop { padding: 20px; display: flex; flex-direction: column; gap: 20px; height: calc(100% - 60px); }
        .icon { width: 70px; text-align: center; cursor: pointer; color: white; font-size: 12px; }
        .icon-img { width: 50px; height: 50px; background: rgba(255,255,255,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 24px; margin-bottom: 5px; }
        .icon:hover .icon-img { background: rgba(255,255,255,0.4); }

        /* Windows */
        .window {
            position: absolute; width: 400px; height: 300px;
            background: var(--win-bg); border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex; flex-direction: column; min-width: 200px; min-height: 150px;
        }
        .window-header {
            padding: 10px; background: #eee; border-radius: 8px 8px 0 0;
            display: flex; justify-content: space-between; align-items: center; cursor: move;
        }
        .window-content { padding: 15px; flex-grow: 1; overflow: auto; }
        .btn-close { background: #ff5f56; border: none; width: 12px; height: 12px; border-radius: 50%; cursor: pointer; }

        #clock { margin-left: auto; font-size: 14px; margin-right: 20px; }
    </style>
</head>
<body>

<div id="wallpaper"></div>

<div id="taskbar">
    <button class="start-btn" onclick="toggleStart()">üîÜ Solar</button>
    <div id="clock">00:00</div>
</div>

<div id="desktop" onclick="closeStart()">
    </div>

<script>
    // Configura√ß√µes e Apps
    const apps = [
        { id: 'notes', name: 'Flare Notes', icon: 'üìù', content: '<textarea style="width:100%;height:90%;border:none;outline:none;background:transparent;">Ol√° do SolarOS!</textarea>' },
        { id: 'calc', name: 'Calculadora', icon: 'üî¢', content: '<input type="number" id="n1"> + <input type="number" id="n2"> <button onclick="alert(Number(n1.value)+Number(n2.value))">Somar</button>' },
        { id: 'sys', name: 'Sistema', icon: '‚öôÔ∏è', content: '<h3>SolarOS v3.5</h3><p>Kernel: JavaScript V8</p><p>Status: Online</p>' }
    ];

    let zIndexCounter = 100;

    // Inicializa√ß√£o
    function init() {
        const desktop = document.getElementById('desktop');
        apps.forEach(app => {
            const div = document.createElement('div');
            div.className = 'icon';
            div.onclick = () => createWindow(app);
            div.innerHTML = `<div class="icon-img">${app.icon}</div><div>${app.name}</div>`;
            desktop.appendChild(div);
        });
        updateClock();
        setInterval(updateClock, 1000);
    }

    // Gerenciador de Janelas
    function createWindow(app) {
        if (document.getElementById(`win-${app.id}`)) return;

        const win = document.createElement('div');
        win.id = `win-${app.id}`;
        win.className = 'window';
        win.style.zIndex = ++zIndexCounter;
        win.style.left = (50 + (zIndexCounter - 100) * 20) + 'px';
        win.style.top = (50 + (zIndexCounter - 100) * 20) + 'px';

        win.innerHTML = `
            <div class="window-header" onmousedown="dragWindow(this.parentElement, event)">
                <span>${app.icon} ${app.name}</span>
                <button class="btn-close" onclick="this.parentElement.parentElement.remove()"></button>
            </div>
            <div class="window-content">${app.content}</div>
        `;

        win.onmousedown = () => win.style.zIndex = ++zIndexCounter;
        document.body.appendChild(win);
    }

    // L√≥gica de Arrastar (Drag and Drop)
    function dragWindow(el, e) {
        let pos1 = 0, pos2 = 0, pos3 = e.clientX, pos4 = e.clientY;
        document.onmousemove = (e) => {
            pos1 = pos3 - e.clientX;
            pos2 = pos4 - e.clientY;
            pos3 = e.clientX;
            pos4 = e.clientY;
            el.style.top = (el.offsetTop - pos2) + "px";
            el.style.left = (el.offsetLeft - pos1) + "px";
        };
        document.onmouseup = () => {
            document.onmousemove = null;
            document.onmouseup = null;
        };
    }

    function updateClock() {
        const now = new Date();
        document.getElementById('clock').innerText = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
    }

    function toggleStart() {
        alert("Menu SolarOS: Em breve novos apps!");
    }

    window.onload = init;
</script>

</body>
</html>